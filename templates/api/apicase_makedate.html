{% extends "base_index.html" %}
{% block content %}
{% for message in get_flashed_messages() %}
<div class="alert">{{ message }}</div>
{% endfor %}
{% if error %}<p class=error><strong>Error:</strong> {{ error }}{% endif %}
    <script type="text/javascript">
        window.onload = function () { getMakeDateElements() };
    </script>
<div class="form-group">
    <label for="type">用例类型</label>
    <input id="type" class="form-control required" name="type" maxlength="200" placeholder="请输入用例类型" readonly unselectable="on" value={{ case['type'] }}>
</div>
<div class="form-group">
    <label for="version">用例版本</label>
    <input id="version" class="form-control required" name="version" maxlength="20" placeholder="请输入版本号" readonly unselectable="on" value={{ case['version'] }}>
</div>
<div class="form-group">
    <label for="name">名称</label>
    <input type="text" class="form-control required" id="name" name="name" maxlength="20" placeholder="请输入用例名称" readonly unselectable="on" value={{ case['name'] }}>
</div>
<div class="form-group">
    <label for="description">描述</label>
    <div class="form-control required textarea" id="description" name="description" maxlength="500" placeholder="请输入描述">{{ case['description'] }}</div>
</div>
<div class="form-group">
    <label for="product">所属产品</label>
    <input type="text" class="form-control required" id="product" name="product" maxlength="20" placeholder="请输入用例所属产品" readonly unselectable="on" value={{ case['product'] }}>
</div>
<div class="form-group">
    <label for="model">模块</label>
    <input type="text" class="form-control required" id="model" name="model" maxlength="20" placeholder="请输入用例模块" readonly unselectable="on" value={{ case['model'] }}>
</div>
{% if case['type'] == '普通用例' %}
<div class="form-group">
    <label for="pre-steps">前置事务</label>
    <div class="form-control required textarea" id="pre-steps" name="pre-steps" placeholder="请输入前置事务">{{ case['pre_steps'] }}</div>
</div>
{% endif %}
<div class="form-group" style="display: none;">
    <label for="steps">操作步骤</label>
    <div class="form-control required textarea" id="steps" name="steps" placeholder="请输入步骤">{{ case['steps'] }}
    </div>
</div>
<div id="add_api_table">
    <label for="steps" style="float: left;">操作步骤</label>
    <table id="add_api">
        <thead>
            <tr>
                <th>序号</th>
                <th>用例名称</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody id="add_api_tbody"></tbody>
    </table>
</div>
{% if case['type'] == '普通用例' %}
<div class="form-group">
    <label for="pre-steps">后置事务</label>
    <div class="form-control required textarea" id="pre-steps" name="pre-steps" placeholder="请输入后置事务">{{ case['next_steps'] }}</div>
</div>
{% endif %}
<div id=save-dates>
    <div id=save-dates-nav>
        <div id=left>数据编辑</div>
        <div id=right><a href="#" class="failed" onclick="closeEditDate()">&times;</a></div>
    </div>
    <iframe id=save-date></iframe>
</div>
<div id="hidebg"></div>
{% endblock %}